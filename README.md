# פרוייקט InboxSMS - מערכת לניהול הודעות SMS נכנסות

## טכנולוגיות
- **Frontend Framework**: SvelteKit 2 עם Svelte 5
- **Styling**: TailwindCSS
- **Type Safety**: TypeScript
- **API Integration**: Server-Side API Calls
- **State Management**: Svelte 5 Runes ($state)
- **Authentication**: Form Actions + Server-Side Sessions

## מבנה הפרוייקט

### src/routes/+page.server.ts
מכיל את כל הלוגיקה של קריאות ה-API בצד שרת:
- `loginToApi()` - התחברות למערכת וקבלת טוקן
- `logoutFromApi()` - התנתקות מהמערכת
- `getMessagesFromApi()` - קבלת הודעות SMS
כל הפונקציות מתקשרות עם השרת בכתובת `https://www.call2all.co.il/ym/api/`

### src/lib/types.ts
הגדרות טיפוסים עבור TypeScript:
- `Message` - מבנה של הודעת SMS (תאריך, שולח, תוכן, נמען)
- `LoginResponse` - מבנה של תשובת שרת להתחברות
- `MessagesResponse` - מבנה של תשובת שרת לבקשת הודעות

### src/lib/components/
קומפוננטות משנה של האפליקציה:

#### Message.svelte
קומפוננטה להצגת הודעת SMS בודדת:
- מקבלת כ-prop את פרטי ההודעה
- מציגה תאריך, שולח, תוכן ונמען
- מעוצבת עם TailwindCSS בצורה נקייה ומרווחת

#### MessageList.svelte
קומפוננטה להצגת רשימת הודעות:
- מקבלת כ-props את רשימת ההודעות ופונקציות לרענון והתנתקות
- מציגה כפתורי פעולה (רענון והתנתקות)
- מרנדרת את כל ההודעות באמצעות קומפוננטת Message

### src/routes/
הדפים והניתוב של האפליקציה:

#### +layout.svelte
תבנית הבסיס של האפליקציה:
- מייבאת את קובץ ה-CSS הראשי
- מגדירה את כיוון הטקסט לימין לשמאל (RTL)
- מגדירה צבע רקע בסיסי

#### +page.svelte
הדף הראשי של האפליקציה:
- מנהל את מצב ההתחברות באמצעות Form Actions
- מציג טופס התחברות או רשימת הודעות בהתאם למצב
- מטפל בשגיאות ומציג הודעות למשתמש

#### +page.server.ts
לוגיקת צד שרת:
- מנהל את קריאות ה-API
- מנהל את הסשן והטוקן
- מטפל בפעולות המשתמש (התחברות, התנתקות, רענון)

## ניהול State
- שימוש ב-$state של Svelte 5 לניהול משתנים ריאקטיביים:
  - `messages` - רשימת ההודעות
  - `error` - הודעות שגיאה
- שימוש בסשן בצד שרת לשמירת הטוקן

## פונקציונליות
1. **התחברות**:
   - טופס עם שדות שם משתמש וסיסמה
   - תמיכה ב-autocomplete
   - הצגת שגיאות התחברות
   - שמירת טוקן בסשן בצד שרת

2. **הצגת הודעות**:
   - טעינה אוטומטית בהתחברות
   - תצוגה מאורגנת ונקייה
   - מידע מלא על כל הודעה

3. **רענון הודעות**:
   - כפתור לטעינה מחדש
   - עדכון אוטומטי של התצוגה

4. **התנתקות**:
   - ניקוי טוקן וסשן
   - חזרה למסך התחברות

## אבטחה
- קריאות API מתבצעות בצד שרת
- שימוש בסשן לאחסון הטוקן
- הצפנת סיסמה בתצוגה
- ניקוי נתונים בהתנתקות
- שכבת אבטחה נוספת עם שם משתמש וסיסמה למערכת

## עיצוב
- שימוש ב-TailwindCSS לעיצוב מודרני ונקי
- תמיכה מלאה בעברית ו-RTL
- ממשק משתמש אינטואיטיבי
- התאמה למובייל (responsive)

## הוראות הרצה
1. התקנת תלויות: `npm install`
2. הגדרת קובץ .env עם הפרטים הבאים:
   ```
   # API Credentials
   API_USERNAME=your_api_username
   API_PASSWORD=your_api_password

   # Client Credentials
   CLIENT_USERNAME=admin
   CLIENT_PASSWORD=123456

   # API URL
   API_URL=https://www.call2all.co.il/ym/api/
   ```
3. הרצת שרת פיתוח: `npm run dev`
4. גישה לאפליקציה בדפדפן: `http://localhost:5173`

## פרטי התחברות למערכת
- שם משתמש: admin
- סיסמה: 123456
